<% layout('base') %>
<link rel="stylesheet" href="/css/personalized.css">

<section class="personalized-section">
  <div class="container">
    <div class="personalized-header">
      <h1 class="personalized-title" data-testid="text-page-title">
        Personalized Recommendations
      </h1>
      <p class="personalized-description" data-testid="text-page-description">
        Build your unique typographic profile by selecting fonts you love. Our intelligent system 
        analyzes your preferences to recommend fonts that match your style and complement your selections.
      </p>
    </div>
    
    <div class="instructions">
      <p class="instructions-text" data-testid="text-instructions">
        Click on fonts you like to add them to your profile. Selected fonts will be highlighted with a checkmark.
      </p>
    </div>
    
    <div class="font-selection-grid" id="font-selection" data-testid="container-font-selection">
      <% const fonts = [
          { name: 'Playfair Display', category: 'serif' },      // Elegant serif for headings
          { name: 'Merriweather', category: 'serif' },          // Classic, readable serif
          { name: 'Lora', category: 'serif' },                  // Warm and modern serif

          // Sans-serif → sans-serif
          { name: 'Inter', category: 'sans-serif' },            // Modern UI sans
          { name: 'Poppins', category: 'sans-serif' },          // Geometric, friendly
          { name: 'Montserrat', category: 'sans-serif' },       // Corporate, clean sans
          { name: 'Raleway', category: 'sans-serif' },          // Elegant thin sans
          { name: 'Nunito', category: 'sans-serif' },           // Rounded, casual sans

          // Display → fantasy
          { name: 'Bebas Neue', category: 'fantasy' },          // Bold display font
          { name: 'Press Start 2P', category: 'fantasy' },      // Retro pixel-style font
          { name: 'Lobster', category: 'fantasy' },             // Decorative branding font

          // Handwriting / Cursive → cursive
          { name: 'Dancing Script', category: 'cursive' },      // Flowing handwritten
          { name: 'Pacifico', category: 'cursive' },            // Playful cursive
          { name: 'Great Vibes', category: 'cursive' },         // Elegant calligraphic

         ]; 
      %>

      <% fonts.forEach(font => { %>
        <div class="selectable-font-card" data-font="<%= font.name %>" data-testid="card-font-<%= font.name %>">
            <div class="selectable-font-name" style="font-family: '<%= font.name %>', <%= font.category %>;">
            <%= font.name %>
          </div>
          <span class="selectable-font-category"><%= font.category %></span>
        </div>
      <% }) %>
    </div>
    
    <div class="generate-section">
      <button id="generate-btn" class="btn btn-gold" data-testid="button-generate-style">
        Generate My Style
      </button>
    </div>
    
    <div id="personalized-results" data-testid="container-results"></div>
  </div>
</section>

<script type="module" src="/js/personalized.js"></script>
